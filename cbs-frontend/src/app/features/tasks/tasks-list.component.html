<div class="tasks-container">
  <div class="page-header">
    <h1>Task Management</h1>
    <button class="btn-primary">+ Create Task</button>
  </div>

  @if (loading()) {
    <div class="loading">Loading tasks...</div>
  }

  @if (error()) {
    <div class="error-message">{{ error() }}</div>
  }

  @if (!loading() && tasks().length === 0) {
    <div class="empty-state">
      <div class="empty-icon">âœ“</div>
      <h3>No tasks found</h3>
      <p>Create your first task to get started</p>
      <button class="btn-primary">Create Task</button>
    </div>
  }

  @if (tasks().length > 0) {
    <div class="tasks-grid">
      @for (task of tasks(); track task.id) {
        <div class="task-card">
          <div class="task-header">
            <div class="task-title">
              <h3>{{ task.title }}</h3>
              <span class="priority-badge" [ngClass]="getPriorityClass(task.priority)">
                {{ task.priority }}
              </span>
            </div>
            <span class="status-badge" [ngClass]="getStatusClass(task.status)">
              {{ task.status.replace('_', ' ') }}
            </span>
          </div>

          <p class="task-description">{{ task.description }}</p>

          <div class="task-details">
            <div class="detail-row">
              <span class="detail-label">Due Date:</span>
              <span class="detail-value">{{ task.dueDate | date:'MMM dd, yyyy' }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Estimated:</span>
              <span class="detail-value">{{ task.estimatedHours }}h</span>
            </div>
            @if (task.actualHours) {
              <div class="detail-row">
                <span class="detail-label">Actual:</span>
                <span class="detail-value">{{ task.actualHours }}h</span>
              </div>
            }
            @if (task.tags && task.tags.length > 0) {
              <div class="task-tags">
                @for (tag of task.tags; track tag) {
                  <span class="tag">{{ tag }}</span>
                }
              </div>
            }
          </div>

          <div class="task-actions">
            <button class="btn-link">View</button>
            <button class="btn-link">Edit</button>
            @if (task.status === 'TODO') {
              <button class="btn-primary-sm">Start</button>
            }
            @if (task.status === 'IN_PROGRESS') {
              <button class="btn-primary-sm">Complete</button>
            }
          </div>
        </div>
      }
    </div>
  }
</div>
